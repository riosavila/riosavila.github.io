<!DOCTYPE html>
<html lang="en"><head>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/tabby.min.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.5.56">

  <meta name="author" content="Fernando Rios-Avila">
  <meta name="dcterms.date" content="2024-08-23">
  <title>Econometrics MSC Levy – Origins of Data, and Data Preparation</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/theme/quarto.css">
  <link href="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    padding-bottom: 0.5rem;
    margin-bottom: 0;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Origins of Data, and Data Preparation</h1>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Fernando Rios-Avila 
</div>
        <p class="quarto-title-affiliation">
            Levy Economics Institute
          </p>
    </div>
</div>

  <p class="date">August 23, 2024</p>
</section>
<section id="motivation" class="slide level2">
<h2>Motivation</h2>
<ul>
<li>Suppose, you want to understand the extent and patterns of differences in online and offline prices. How would you go about collecting data?
<ul>
<li>A super project, the Billion Prices Project at MIT did a variety of data collection approaches such as crowd-sourcing platforms, mobile phone apps and web scraping methods.</li>
</ul></li>
<li>Interested in understanding more about management practices?
<ul>
<li>The World Management Survey is a major effort by academics to survey practices around the world - asking the same questions in many countries the same way.</li>
</ul></li>
</ul>
</section>
<section>
<section id="what-is-data" class="title-slide slide level1 center">
<h1>What is data ?</h1>

</section>
<section id="what-is-data-0s-and-1s" class="slide level2">
<h2>What is data ? 0s and 1s…</h2>
<ul>
<li>Data is a collection of numbers, characters, images, or other formats.</li>
<li>They provide information about <strong>something</strong>. (Prices? Management practices? Hotel characteristics? etc.)</li>
<li>Of course, depending on how the data was collected, and what structure it has, it can be more or less useful for answering a particular question.</li>
</ul>
</section>
<section id="what-is-data-1" class="slide level2">
<h2>What is data ?</h2>
<p>As Economist, we are more familiar with a specific data structure:</p>
<ul>
<li>Data is most straightforward to analyze if it is in a <strong><em>data table</em></strong> form (2D Matrix form):
<ul>
<li>A single <em>file</em> with rows and columns.</li>
<li>Each row is an observation, and each column is a variable.</li>
</ul></li>
<li>How do you find it in the real world?1
<ul>
<li>Storage: Comma separated values .csv (.txt) is simplest, but other formats are possible</li>
<li>Stata (.dta), SPSS (.sav), R (.rda), Python (.pkl), etc.</li>
</ul></li>
<li>A Dataset is a collection of data tables that may be related to each other.</li>
</ul>
</section>
<section id="data-structures" class="slide level2">
<h2>Data structures</h2>
<p>Aside from “format”, data can be structured in different ways:</p>
<ul>
<li><strong>Cross-sectional</strong> (<em>xsec</em>) data have information on many units observed at the same time</li>
<li><strong>Time series</strong> (<em>tseries</em>) data have information on a single unit observed many times</li>
<li><strong>Multi-dimensional</strong> (<em>panel</em>?) data have multiple dimensions (the observations)</li>
</ul>
</section>
<section id="data-structures-panel-xt-data" class="slide level2">
<h2>Data structures: Panel (xt) data</h2>
<p><strong>Multi-dimensional: Panel data</strong> is of particular interest in economics:</p>
<ul>
<li>A common type of <strong>panel data</strong> has many units, each observed multiple times
<ul>
<li>countries observed repeatedly for several years</li>
</ul></li>
<li>In <strong>xt</strong> data tables observations are identified by two ID variables: one for the cross-sectional units, one for time</li>
<li><strong>xt</strong> data is balanced if all cross-sectional units are observed at the very same time periods</li>
<li>It is called unbalanced if some cross-sectional units are observed more times than others</li>
</ul>
</section></section>
<section>
<section id="data-quality" class="title-slide slide level1 center">
<h1>Data Quality</h1>
<p>Not all data is created equal</p>
</section>
<section id="data-quality-is-key" class="slide level2">
<h2>Data quality is key</h2>
<ul>
<li><strong>Keyword</strong>: Quality, Quality, Quality</li>
<li>Data quality is key for any analysis
<ul>
<li><strong>Garbage-in-garbage-out</strong>: If data is <em>useless</em>, then answers of our analysis are bound to be useless…</li>
<li>… no matter how fancy a method we apply to it.</li>
</ul></li>
<li>Data quality is generally a subjective notion: Different standards for different purposes</li>
<li>First you have to specify what is your (research) question:
<ul>
<li>What do you want to explore or understand?</li>
</ul></li>
<li>If you have a clear (pseudo) answer, then you can decide on your data quality</li>
</ul>
<div>
<ul>
<li class="fragment">However, there are some objective measures to decide if you have your question</li>
</ul>
</div>
</section>
<section id="dimensions-of-data-quality" class="slide level2">
<h2>Dimensions of data quality</h2>
<ol type="1">
<li><strong>Content</strong> - what is the variable really capturing?</li>
<li><strong>Validity</strong> - how close the actual content of the variable to the intended content</li>
<li><strong>Reliability</strong> - if we were to measure the same variable multiple times for the same observation it should give the same result</li>
<li><strong>Comparability of measurement</strong> - how similarly the same variable is measured across different observations</li>
<li><strong>Coverage</strong> - what proportion of the population are represented in the data</li>
<li><strong>Unbiased selection</strong> - if coverage is incomplete, is it representative of the population?</li>
</ol>
<aside class="notes">
<p>How was the data collected??</p>
<p>Does the variable capture what it is supposed to capture? are labels correct? is the variable measured correctly? (is =1 a true or a false?)</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="you-should-allways-know-your-data" class="slide level2">
<h2><strong>YOU</strong> should allways know your data</h2>
<ul>
<li>How data was born? How was it collected, and processed?</li>
<li>All details of measurement that may be relevant for their analysis
<ul>
<li>When in doubt, ask the data source. Manuals, codebooks, etc.</li>
</ul></li>
<li>Because of this, you may want to have a:
<ul>
<li><code>README.txt</code> that describes where dataset comes from</li>
<li><code>VARIABLES.xls</code> that provides basic information on your variables (cookbook)</li>
</ul></li>
</ul>
</section></section>
<section>
<section id="data-collection" class="title-slide slide level1 center">
<h1>Data collection</h1>
<p>How was the data Born?</p>
</section>
<section id="secondary-data-general-characteristics" class="slide level2">
<h2>Secondary data: General characteristics</h2>
<ul>
<li><strong>Type</strong>: Data, or information, collected by someone else, for different purposes
<ul>
<li>Tax records collects do not contain demographics and education.</li>
<li>A Survey that collects Demographics, but not income data.</li>
</ul></li>
<li><strong>Data quality</strong> consequences
<ul>
<li>May not contain variables that we need</li>
<li>Validity may be high or low</li>
<li>Potential selection bias if low covarege</li>
</ul></li>
<li><strong>Frequent advantages</strong>
<ul>
<li>Inexpensive?</li>
<li>Often many observations</li>
</ul></li>
</ul>
<aside class="notes">
<ul>
<li>Secondary data is data that was collected by someone else for a different purpose</li>
<li>We cant control how the data was collected, but we can control how we use it. You need to assume that the data is not perfect. And assume consequences of that.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="how-to-collect-the-data" class="slide level2">
<h2>How to Collect the Data</h2>
<ul>
<li><strong>By hand</strong>:
<ul>
<li>Many data sources are available online: World Bank and IMF data, etc. (usually easy to download)</li>
<li>For the US, &lt;ipums.org&gt; has a lot of standardized data (CPS, ATUS, ACS, etc.)</li>
</ul></li>
<li>Automated <strong>API</strong>:
<ul>
<li>Many agencies also offer API (Application Programming Interface) to directly load data into a statistical software</li>
<li>API widely used in many context. see <a href="https://guides.lib.berkeley.edu/c.php?g=4395&amp;p=7995952">here</a> for a list from Berkeley</li>
</ul></li>
</ul>
</section>
<section id="how-to-collect-the-data-1" class="slide level2">
<h2>How to Collect the Data</h2>
<ul>
<li>Data from online platform (<strong>web scraping</strong>):
<ul>
<li>html code includes data, that can be collected and analyzed</li>
<li>R (rvest) and Python (beautiful soup) can be used for that purpose</li>
<li>Stata does not have good tools for web scraping</li>
</ul></li>
<li><strong>Need extensive cleaning</strong></li>
<li>Can be repeated (automated) if data is updated frequently
<ul>
<li>Mindful of the terms of service of the website</li>
</ul></li>
<li>Data collection limited to what is on a site</li>
</ul>
<aside class="notes">
<ul>
<li>Web scraping is a powerful tool that needs a know-how, and requires extensive cleaning</li>
<li>Web scraping is limited to what is on a site</li>
<li>Always be mindful of the terms of service of the website. Not all websites allow web scraping</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="administrative-data-general-characteristics" class="slide level2">
<h2>Administrative Data: General Characteristics</h2>
<ul>
<li>Business transactions, Government records, taxes, social security</li>
<li><strong>Many advantages</strong>
<ul>
<li>Often great coverage (Census), few missing values, high quality content (tax records)</li>
<li>Many well defined and documented variables</li>
</ul></li>
<li><strong>Some disadvantages</strong>
<ul>
<li>Defined for a different purpose, not your research question</li>
<li>Often not detailed/specific enough</li>
<li><strong>Biggest</strong> problem is very <strong><em>limited access</em></strong>: Need to apply for access</li>
</ul></li>
</ul>
</section></section>
<section>
<section id="survey-and-sampling" class="title-slide slide level1 center">
<h1>Survey and sampling</h1>
<p>If you ask (few), they <em>may</em> answer</p>
</section>
<section id="survey-general-characteristics" class="slide level2">
<h2>Survey: General characteristics</h2>
<ul>
<li>Surveys collect data by asking people (respondents) and recording their answers</li>
<li>Answers should be short(!) and easily(!) transformed into variables</li>
<li><strong>Major advantage</strong>: you can ask what you want to know</li>
<li>How?
<ul>
<li>self-administered surveys and interviews</li>
<li>Web, telephone, in person, mix - computer aided interview</li>
</ul></li>
<li>What could go wrong? (and assume <strong><em>House MD</em></strong> is wrong)</li>
</ul>
<aside class="notes">
<p>Choice of data collection approach matters a great deal. Can be done efficiently, with good aids. And depending on design, can be cheap</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="sampling" class="slide level2">
<h2>Sampling</h2>
<ul>
<li><p>Perhaps one can collect data on all observations we want (the population)</p></li>
<li><p>but, more often we don’t because it’s impractical or prohibitively expensive</p></li>
<li><p><strong>Sampling</strong> is when we purposefully collect data on a subset/sample (<span class="math inline">\(&lt;100%\)</span> coverage) of the population</p></li>
<li><p><strong>Sampling</strong> is the <strong>process</strong> that selects that subset (How do we select the sample?)</p></li>
</ul>
</section>
<section id="what-we-want-representative-samples" class="slide level2">
<h2>What We Want: Representative samples</h2>
<ul>
<li>A sample is <span class="blue"><em>good</em></span> if it represents the population
<ul>
<li>all <strong>important</strong> variables have very similar distributions in the sample and the population</li>
<li>all <strong>patterns</strong> in the sample are very similar to the patterns in the population</li>
</ul></li>
<li>Examples
<ul>
<li>The age distribution of a sample of employees is the same as the age distribution of all employees</li>
<li>The income distribution in the CPS is the same as the income distribution in the US</li>
</ul></li>
<li>But how can we tell?</li>
</ul>
</section>
<section id="how-can-we-tell-if-a-sample-is-representative" class="slide level2">
<h2>How can we tell if a sample is representative</h2>
<ul>
<li>Never for sure
<ul>
<li>If you knew the population, you wouldn’t need the sample</li>
<li>We know the patterns in the sample but not in the population</li>
</ul></li>
<li>But, we could do Benchmarking
<ul>
<li>We may know <strong>a few</strong> distributions or patterns in the population</li>
<li>Those should be similar in the sample</li>
<li>Example: Using the Census to check the age distribution in the CPS</li>
</ul></li>
<li>Or, knowing the process of sampling
<ul>
<li>Random sampling is known to lead to representative samples with high likelihood</li>
</ul></li>
</ul>
</section>
<section id="sampling-random-sampling" class="slide level2">
<h2>Sampling: Random sampling</h2>
<ul>
<li><strong>Random sampling</strong> is a selection rule <span class="red"><strong><em>independent</em></strong></span> of any important variable
<ul>
<li>its the most likely to produce representative samples</li>
<li>Any other methods may lead to biased selection</li>
</ul></li>
<li>Examples
<ul>
<li>Good: people with odd-numbered birth dates (a 50% sample)</li>
<li>Good: the first half of a list of firms <strong>sorted</strong> by a random number generated by the computer</li>
<li>Bad: the first half of a list of people by alphabetical order</li>
<li>Bad: firms that were established in the most recent years</li>
</ul></li>
</ul>
</section>
<section id="random-sampling-is-best" class="slide level2">
<h2>Random sampling is <strong>best</strong></h2>
<ul>
<li>Provided sample is large enough (N<span class="math inline">\(-&gt;\)</span>infinity)</li>
<li>In small samples (dozens) anything is possible</li>
<li>In a representative sample, size (N) matters, not coverage
<ul>
<li>CPS ~ 70,000 households (0.02% of US); ATUS ~ 9,000 ppl (0.003% of US)</li>
</ul></li>
<li>Larger samples better (more power/precise estimates) but …</li>
</ul>
</section>
<section id="sampling-clusterstratified-sampling" class="slide level2">
<h2>Sampling: Cluster/Stratified sampling</h2>
<ul>
<li>Some times, however, random sampling is prohibitively expensive.</li>
<li>Furthermore, sometimes we want to oversample some groups (rare groups), to make sure we have enough observations</li>
<li>Both approaches may help to reduce costs of collection.</li>
</ul>
</section>
<section id="section" class="slide level2">
<h2></h2>
<!--# 
This is the code used for the following:

clear
set obs 2000
gen r0 = runiform() 
gen r1 = 0.5*(runiform() +r0)
gen r2 = 0.5*(runiform() +r0)
scatter r1 r2, xlabel("",nogrid) ylabel("",nogrid) ///
               yscale(noline) xscale(noline)  ///
               ytitle("") xtitle("") aspect(1) ///
               ysize(6) xsize(6)
cluster kmeans r1 r2, k(100) name(qr0)
bysort qr0: gen sel2 = runiform()
bysort qr0: gen sel = sel2[1]<.1
drop sel2
                            
               
gen qr1 = floor(r1*10)+1
gen qr2 = floor(r2*10)+1
gen rx = runiform()
sort qr1 qr2 rx
by qr1 qr2 :gen sel2 = _n<=(0.1*_N)
by qr1 qr2 :replace sel2 = 1 if _n==1
set scheme white2
two (scatter r1 r2,  mcolor(%40)) (scatter r1 r2 if runiform()<.1, msize(2) mcolor(%70) ) ///
               , xlabel("",nogrid) ylabel("",nogrid) ///
               yscale(noline) xscale(noline)  ///
               ytitle("") xtitle("") aspect(1) ///
               ysize(6) xsize(6) legend(off)  xline(0(.1)1) yline(0(.1)1)            
graph export "C:\Users\Fernando\Documents\GitHub\rm-data-analysis\Slides\images\paste-1.png", replace        
two (scatter r1 r2,  mcolor(%40)) (scatter r1 r2 if sel, msize(2) mcolor(%70) ) ///
               , xlabel("",nogrid) ylabel("",nogrid) ///
               yscale(noline) xscale(noline)  ///
               ytitle("") xtitle("") aspect(1) ///
               ysize(6) xsize(6) legend(off)  xline(0(.1)1) yline(0(.1)1)
graph export "C:\Users\Fernando\Documents\GitHub\rm-data-analysis\Slides\images\paste-2.png", replace 
two (scatter r1 r2,  mcolor(%40)) (scatter r1 r2 if sel2, msize(2) mcolor(%70) ) ///
               , xlabel("",nogrid) ylabel("",nogrid) ///
               yscale(noline) xscale(noline)  ///
               ytitle("") xtitle("") aspect(1) ///
               ysize(6) xsize(6) legend(off) xline(0(.1)1) yline(0(.1)1)
graph export "C:\Users\Fernando\Documents\GitHub\rm-data-analysis\Slides\images\paste-3.png", replace                


 -->
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-1-1">Random sampling</a></li><li><a href="#tabset-1-2">Cluster sampling</a></li><li><a href="#tabset-1-3">Stratified sampling</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/paste-1.png" class="quarto-figure quarto-figure-center" style="width:45.0%"></p>
</figure>
</div>
</div>
<div id="tabset-1-2">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/paste-2.png" class="quarto-figure quarto-figure-center" style="width:45.0%"></p>
</figure>
</div>
</div>
<div id="tabset-1-3">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/paste-3.png" class="quarto-figure quarto-figure-center" style="width:45.0%"></p>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="what-is-different-with-big-data" class="slide level2">
<h2>What is different with Big Data?</h2>
<ul>
<li><strong>massive</strong> datasets that are (billions?) Not necessarily representative</li>
<li>often <strong>automatically</strong> and <strong>continuously</strong> collected and stored (Transaction data, tweets, etc.)
<ul>
<li>Not necessarily for analytic purposes</li>
</ul></li>
<li>Complex
<ul>
<li>text (video, music/noise), network, multidimensional, maps</li>
</ul></li>
</ul>
</section>
<section id="different-yet-the-same" class="slide level2">
<h2>Different yet the same</h2>
<p>Different:</p>
<ul>
<li>A particular source of uncertainty of the results of an analysis is greatly reduced</li>
<li>Rare or more nuanced patterns can be uncovered</li>
<li>Practical challenges (storage, processing, etc.)</li>
<li>Some challenges may be solved by working with a random subsample</li>
</ul>
<p>Same:</p>
<ul>
<li>Need to represent entire population if incomplete coverage</li>
<li>Example: Big Data with 75% coverage with a selection bias leads to biased results</li>
<li>Non-big data from same population with 1% random sample leads to good results</li>
</ul>
</section></section>
<section>
<section id="other-aspects-to-consider" class="title-slide slide level1 center">
<h1>Other Aspects to consider</h1>

</section>
<section id="sample-selection-bias" class="slide level2">
<h2>Sample selection bias</h2>
<ul>
<li>The sample you collect is different from the population</li>
<li>This difference is crucial in the story</li>
<li>Example: Predicting presidential election
<ul>
<li>1936: Literary Digest. <a href="https://en.wikipedia.org/wiki/The_Literary_Digest#:~:text=In%201936%2C%20the%20magazine's%20poll,vote%20and%20370%20electoral%20votes.">FD Roosevelt vs Landon</a>. 10m people asked. 2m replied. Biggest poll ever. Landon was predicted win 57%<br>
</li>
<li>1948 Chicago Tribune. <a href="https://en.wikipedia.org/wiki/Dewey_Defeats_Truman">Dewey predicted beat Truman</a>. Used phone registry</li>
</ul></li>
</ul>
</section>
<section id="legal-and-ethical-aspects" class="slide level2">
<h2>Legal and ethical aspects</h2>
<p>During Data collection, be aware of ethical and legal constraints, Special care with sensitive information</p>
<p>More with web scraping…</p>
<p>Always communicate with the source owner(s) and or with legal professional if you are planning to use seemingly sensitive data (names, addresses, etc.)</p>
</section>
<section id="ai-and-data-collection-wrangling" class="slide level2">
<h2>AI and data collection, wrangling</h2>
<ul>
<li>Data collection and management often behind walls</li>
<li>AI can help write code to web-scrape, etc. (Python is quite good at it)</li>
<li>AI is great to give a first impression of your dataset, incl.&nbsp;quality, data structure</li>
<li>AI is helpful to discuss sampling ideas</li>
<li>AI needs context to do good, and will not have proper domain knowledge</li>
<li>AI needs supervision</li>
</ul>
<p>Lesson: AI is a tool, not a replacement</p>
</section>
<section id="main-takeaway" class="slide level2">
<h2>Main takeaway</h2>
<ul>
<li>Know your data
<ul>
<li>How it was born,</li>
<li>What its main advantages are</li>
<li>What its main disadvantages are</li>
</ul></li>
<li>Data quality determines the results of your analysis</li>
<li>Data quality is determined by how the data was born, and how you are planning to use it</li>
</ul>
</section></section>
<section id="break" class="title-slide slide level1 center">
<h1><strong>Break</strong></h1>

</section>

<section>
<section id="preparing-the-data" class="title-slide slide level1 center">
<h1>Preparing the Data</h1>
<p>From raw to tidy</p>
</section>
<section id="motivation-1" class="slide level2">
<h2>Motivation</h2>
<ul>
<li><p>Does immunization of infants against measles save lives in poor countries? Use data on immunization rates in various countries in various years from the World Bank. How should you store, organize and use the data to have all relevant information in an accessible format that lends itself to meaningful analysis?</p></li>
<li><p>You want to know, who has been the best manager in the top English football league. Have downloaded data on football games and on managers. To answer your question you need to combine this data. How should you do that? And are there issues with the data that you need to address?</p></li>
</ul>
</section></section>
<section>
<section id="variables" class="title-slide slide level1 center">
<h1>Variables</h1>

</section>
<section id="variable-types-qualitative-vs-quantitative" class="slide level2">
<h2>Variable types: Qualitative vs quantitative</h2>
<ul>
<li>Data can be born (collected, generated) in different form, and our variables may capture the quality or the quantity of a phenomenon.</li>
<li>Quantitative variables are born as numbers. Typically take many values. (age, height, steps…)</li>
<li>Qualitative variables, also called categorical variables, take on a few values, with each value having a specific interpretation (belonging a category). (Race, Gender, Brand, etc)</li>
</ul>
</section>
<section id="variable-types-dummies-or-binary" class="slide level2">
<h2>Variable types: Dummies or binary</h2>
<ul>
<li>A special case is a binary variable, which can take on two values</li>
<li>…yes/no answer to whether the observation belongs to some group. <strong>Best</strong> to represent these as <code>0</code> or <code>1</code> variables: <code>0</code> for no, <code>1</code> for yes.
<ul>
<li>Example: <code>is_female</code>, <code>is_head_of_household</code>, <code>is_pregnant</code>, <code>is_employed</code></li>
</ul></li>
<li>Flag - binary showing existence of some issue (such as missing value for another variable, presence in another dataset)
<ul>
<li>Example: <code>missing_age</code>, <code>missing_income</code>, <code>in_sample</code></li>
</ul></li>
<li><strong>Note</strong> Some times Surveys do <strong>NOT</strong> use 0-1 for binary variables. <strong>Be careful</strong>.</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource stata number-lines code-with-copy"><code class="sourceCode stata"><span id="cb1-1"><a></a><span class="kw">ssc</span> install fre</span>
<span id="cb1-2"><a></a>fre categorical_variable</span>
<span id="cb1-3"><a></a>* This <span class="kw">program</span> will <span class="kw">tabulate</span> the <span class="kw">data</span> and show you the labels <span class="kw">if</span> any</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="variable-types---formal-definition" class="slide level2">
<h2>Variable types - formal definition</h2>
<ol type="1">
<li><strong>Nominal qualitative</strong> variables take on values that <em>cannot</em> be unambiguously ordered: Color, brands, race</li>
<li><strong>Ordinal</strong>, or <strong>ordered</strong> variables take on values that are unambiguously ordered. Grade, satisfaction, income brackets</li>
<li><strong>Interval/continuous</strong> variables are ordered variables, with a comparable “change”: Age, Degree Celsius, Price in dollars.</li>
</ol>
</section></section>
<section>
<section id="data-wrangling-cleaning" class="title-slide slide level1 left center">
<h1>Data Wrangling &amp; Cleaning</h1>
<p>Taking care of your data</p>
</section>
<section id="data-wrangling" class="slide level2">
<h2>Data Wrangling</h2>
<blockquote>
<p>Data wrangling is the process of transforming raw data to a set of data tables that can be used for a variety of downstream purposes such as data analysis.</p>
</blockquote>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>Understanding and storing
<ul>
<li>start from raw data</li>
<li>understand the structure and content</li>
<li>create tidy data tables</li>
<li>understand links between tables</li>
</ul></li>
</ul>
</div><div class="column" style="width:50%;">
<ul>
<li>Data cleaning
<ul>
<li>understand features, variable types</li>
<li>filter duplicates</li>
<li>look for and manage missing observations</li>
<li>understand limitations</li>
</ul></li>
</ul>
</div></div>
<ul>
<li>This is a <strong>crucial</strong> because out there, Data is Messy</li>
</ul>
</section>
<section id="the-tidy-data-approach" class="slide level2">
<h2>The tidy data approach</h2>
<p>A useful concept of organizing and cleaning data is called the tidy data approach:</p>
<ol type="1">
<li>Each observation forms a row.</li>
<li>Each variable forms a column.</li>
<li>Each type of observational unit forms a table. (One for Families, One for Members)</li>
<li>Each observation has a unique identifier (ID) (Family ID and Person ID)</li>
<li>Can be merged with other tables if needed.</li>
</ol>
<p>Advantages:</p>
<ul>
<li>Tidy tables are easy to work with, and make finding errors easy.</li>
<li>Easy to understand and extend: New observations adds rows; new variables adds columns.</li>
</ul>
</section>
<section id="simple-tidy-data-table" class="slide level2">
<h2>Simple tidy data table</h2>
<table class="caption-top">
<thead>
<tr class="header">
<th>hotel_id</th>
<th>price</th>
<th>distance</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>21897</td>
<td>81</td>
<td>1.7</td>
</tr>
<tr class="even">
<td>21901</td>
<td>85</td>
<td>1.4</td>
</tr>
<tr class="odd">
<td>21902</td>
<td>83</td>
<td>1.7</td>
</tr>
</tbody>
</table>
<p>Source: <code>hotels-vienna data</code>. Vienna, 2017 November week-end.</p>
<p>Each Row a new observation, Each Column a new Variable</p>
</section>
<section id="tidy-data-table-of-multi-dimensional-data" class="slide level2">
<h2>Tidy data table of multi-dimensional data</h2>
<ul>
<li>The tidy approach - store <strong><code>xt</code></strong> data so that One row is one <code>it</code> observation (Cross-section unit <code>i</code> observed at time <code>t</code>). (Long format)<br>
</li>
<li>The next row then may be the same cross-sectional unit observed in the next time period.
<ul>
<li>You may want to use similar criteria with multi-dimensional data (<code>ijt</code> data)</li>
</ul></li>
<li>Alternative <strong>wide format</strong> : one row refers to one cross-sectional unit, and different time periods are represented in different columns. Not the best way to keep the data</li>
</ul>
</section>
<section id="displaying-immunization-rates-across-countries---wide" class="slide level2">
<h2>Displaying immunization rates across countries - WIDE</h2>
<table class="caption-top" style="width:100%;">
<colgroup>
<col style="width: 14%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 15%">
<col style="width: 15%">
<col style="width: 15%">
</colgroup>
<thead>
<tr class="header">
<th>Country</th>
<th>imm2015</th>
<th>imm2016</th>
<th>imm2017</th>
<th>gdppc2015</th>
<th>gdppc2016</th>
<th>gdppc2017</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>India</td>
<td>87</td>
<td>88</td>
<td>88</td>
<td>5743</td>
<td>6145</td>
<td>6516</td>
</tr>
<tr class="even">
<td>Pakistan</td>
<td>75</td>
<td>75</td>
<td>76</td>
<td>4459</td>
<td>4608</td>
<td>4771</td>
</tr>
</tbody>
</table>
<p>Source: <code>world-bank-vaccination</code> data</p>
<p><strong>Wide format</strong> of country-year panel data, each row is one country, different years are different variables.</p>
<p><code>imm</code>: rate of immunization against measles among 12–13-month-old infants.<br>
<code>gdppc</code>: GDP per capital, PPP, constant 2011 USD.</p>
</section>
<section id="displaying-immunization-rates-across-countries---long" class="slide level2">
<h2>Displaying immunization rates across countries - LONG</h2>
<table class="caption-top">
<thead>
<tr class="header">
<th>Country</th>
<th>Year</th>
<th>imm</th>
<th>gdppc</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>India</td>
<td>2015</td>
<td>87</td>
<td>5743</td>
</tr>
<tr class="even">
<td>India</td>
<td>2016</td>
<td>88</td>
<td>6145</td>
</tr>
<tr class="odd">
<td>India</td>
<td>2017</td>
<td>88</td>
<td>6516</td>
</tr>
<tr class="even">
<td>Pakistan</td>
<td>2015</td>
<td>75</td>
<td>4459</td>
</tr>
<tr class="odd">
<td>Pakistan</td>
<td>2016</td>
<td>75</td>
<td>4608</td>
</tr>
<tr class="even">
<td>Pakistan</td>
<td>2017</td>
<td>76</td>
<td>4771</td>
</tr>
</tbody>
</table>
<p>Note: Tidy (long) format of country-year panel data, each row is one country in one year.<br>
<code>imm</code>: rate of immunization against measles among 12–13-month-old infants.<br>
<code>gdppc</code>: GDP per capital, PPP, constant 2011 USD. Source: world-bank-vaccination data.</p>
</section>
<section id="stata-programming-corner" class="slide level2">
<h2>Stata Programming corner</h2>
<ul>
<li>Transforming your data from Wide to Long format (or viceversa) can be done using <code>reshape</code></li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource stata number-lines code-with-copy"><code class="sourceCode stata"><span id="cb2-1"><a></a>* From <span class="kw">wide</span> to <span class="kw">long</span></span>
<span id="cb2-2"><a></a><span class="kw">ren</span> *, low <span class="co">// &lt;- Make sure your variables are all lower case</span></span>
<span id="cb2-3"><a></a><span class="kw">reshape</span> <span class="kw">long</span> imm gdppc, <span class="co">/// &lt;- Make variable Long, and indicate what variables to "make" long</span></span>
<span id="cb2-4"><a></a>    i(country) j(<span class="fu">year</span>) <span class="fu">string</span> <span class="co">// &lt;- also the dimension that was previously "wide" Year</span></span>
<span id="cb2-5"><a></a></span>
<span id="cb2-6"><a></a>* From <span class="kw">long</span> to <span class="kw">wide</span></span>
<span id="cb2-7"><a></a><span class="kw">reshape</span> <span class="kw">wide</span> imm gdppc, <span class="co">/// &lt;- Make variable Long, and indicate what variables to "make" long</span></span>
<span id="cb2-8"><a></a>    i(country) j(<span class="fu">year</span>)  <span class="co">// &lt;- also the dimension that was previously "wide" Year    </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="stata-programming-corner-1" class="slide level2">
<h2>Stata Programming corner</h2>
<ul>
<li>Some times, you may need to <code>reshape</code> only 1 variable, and keep the rest as they are.
<ul>
<li>Adding <span class="blue"><strong>head of household education</strong></span> to all family members.</li>
</ul></li>
<li>You can do it two ways:
<ul>
<li>Create a smaller dataset and <code>merge</code></li>
<li>ID head, and gen the new variable<br>
<code>bysort hid: egen head_educ = max(educ*(is_head==1))</code></li>
</ul></li>
</ul>
</section>
<section id="a-complex-dataset-relational-database" class="slide level2">
<h2>A complex Dataset: Relational database</h2>
<ul>
<li>Some datasets cannot be stored in a single table.
<ul>
<li>ok, they could, but would be very inefficient.</li>
</ul></li>
<li>Data like this are typically stored in a relational database.
<ul>
<li>Smaller <strong><em>tidy</em></strong> datasets can be stored in a single table (single unit of observation),</li>
<li>and that can be linked to other tables with a unique identifiers (ID or Keys).</li>
</ul></li>
<li>This structure forces you to better understand your data.</li>
<li>After understanding the data, you can <code>merge</code>/<code>join</code>/<code>link</code>/<code>match</code> tables as needed.</li>
</ul>
</section>
<section id="identifying-successful-futbol-managers" class="slide level2">
<h2>Identifying successful Futbol managers</h2>
<ul>
<li><p>Review the example, Specially if interested in Futbol</p></li>
<li><p>In short, Data can have different structures (all tidy)</p></li>
<li><p>Some structures are more useful than others.</p></li>
<li><p>Understanding those structures will allow you to work with the data</p></li>
</ul>
</section>
<section id="american-time-use-survey" class="slide level2">
<h2>American Time Use Survey</h2>
<ul>
<li>The ATUS is a good example of a relational dataset</li>
<li>If downloaded RAW (census) you need to navigate through many files:
<ul>
<li><strong>ATUS-ACT</strong>: contains all time activities, plus other info, for the individuals interviewed in the ATUS. Keys: <code>tucaseid</code> and <code>tuactivity_n</code></li>
<li><strong>ATUS-CPS</strong>: Data for all Family members, from CPS. Keys <code>tucaseid</code> <code>tulineno</code></li>
<li><strong>ATUS-RESP</strong>: Some aggregated TimeUse, and additional respondand information. Key <code>tucaseid</code></li>
<li><strong>ATUS-ROST</strong>: Basic demographics for all household members. Keys <code>tucaseid</code> <code>tulineno</code></li>
<li><strong>ATUS-SUM</strong>: Aggregated Time use data, by different types. Keys <code>tucaseid</code></li>
</ul></li>
</ul>
</section>
<section id="american-time-use-survey-1" class="slide level2">
<h2>American Time Use Survey</h2>
<ul>
<li>Depending on your goals, you may want to combine information from various datasets
<ul>
<li>Aggregate some data, combine others, transform.</li>
</ul></li>
<li>Understanding the data structure may also help you see how to best “merge the data”</li>
</ul>
</section>
<section id="stata-corner-types-of-merging" class="slide level2">
<h2>Stata-Corner: Types of <a href="https://friosavila.github.io/chatgpt/merge_04_20_2023/index.html">Merging</a></h2>
<p>There are <del>4</del> 3 types of merging, depending of the <code>master</code> or <code>using</code> dataset</p>
<ul>
<li><code>1:1 merging</code>: Both master and using datasets are uniquely by the <strong>same variables</strong>. use atus-rost merge 1:1 tucaseid tulineno using atus-cps</li>
<li><code>1:m merging</code>: Each observation in the <code>master</code> file will be merge with <code>many</code> units in the <code>using</code> dataset. Master has unique ID. use atus-resp merge 1:m tucaseid using atus-act</li>
<li><code>m:1 merging</code>: Many observations in the <code>master</code> will be merge with <code>one</code> unit in the <code>using</code>. Using has a unique ID<br>
use atus-act merge m:1 tucaseid using atus-resp</li>
<li><code>m:m merging</code>: its wrong…dont do it. Perhaps think <code>joinby</code> instead</li>
</ul>
</section>
<section id="stata-corner" class="slide level2">
<h2>Stata-Corner</h2>
<div class="callout callout-important callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Important</strong></p>
</div>
<div class="callout-content">
<ul>
<li>Every time you do a merge, Stata will create a variable called <code>_merge</code> that will tell you what happened to the merge.</li>
<li>If this variable exist in your datasets (master or using) you will get an error.</li>
<li>so make sure to drop (or rename) it before merging (after you have checked it)</li>
</ul>
</div>
</div>
</div>
</section>
<section id="complex-data---tidy-data-summary" class="slide level2">
<h2>Complex data - tidy data: summary</h2>
<ul>
<li>Creating a tidy data is important so data tables are easy to understand, combine and extend in the future.</li>
<li>If relational data, IDs are essential (allow to link tables)</li>
<li>Often raw data will not come in a tidy format, and you will need to work understanding the structure, relationships and find the individual ingredients.</li>
<li>For analysis work, may need to combine tidy data tables</li>
<li>But probably only need a fraction of all variables.</li>
</ul>
</section></section>
<section>
<section id="data-cleaning" class="title-slide slide level1 center">
<h1>Data cleaning</h1>
<p>Tidying up your tidy data</p>
</section>
<section id="data-cleaning-1" class="slide level2">
<h2>Data cleaning</h2>
<p>With most data, in addition to understand it, you need to “clean”, before using it (<strong>Very Important</strong>)</p>
<ul>
<li>Entity resolution:
<ul>
<li>Dealing with duplicates: Why are they there? What to do?</li>
<li>Ambiguous identification: is it John or Jonh or Jon ?</li>
<li>non-entity rows: uh? what is this?</li>
</ul></li>
<li>Missing values
<ul>
<li>why is it missing? is it missing at random? by design? endogenous?</li>
</ul></li>
</ul>
</section>
<section id="dealing-with-duplicates" class="slide level2">
<h2>Dealing with duplicates</h2>
<ul>
<li>** Duplicates**: Observations appearing more than once in the data.
<ul>
<li>May be the result of human error, or the features of data source (e.g., data scraped from classified ads. Some posts appear more than once).</li>
</ul></li>
<li>Often, easy spot
<ul>
<li><code>duplicates report</code> in Stata, or <code>bysort ID: gen dup = _n</code></li>
</ul></li>
<li>but one needs to investigate. Makes sense / an error? something else?</li>
<li>Decision: what to keep. Sometimes no clear-cut way, but <strong><em>usually</em></strong> no big deal.</li>
</ul>
</section>
<section id="entity-identification-and-resolution" class="slide level2">
<h2>Entity identification and resolution</h2>
<ul>
<li>You need to have unique IDs
<ul>
<li>you can use <code>isid</code> to check if a variable(s) is a unique identifier</li>
<li>If not, check why not. Perhaps wrong ID?</li>
</ul></li>
<li>Possible cases:
<ul>
<li>Same identifier, different entities</li>
<li>Different identifiers, same entity (??)</li>
</ul></li>
<li>Entity resolution: process of identifying, merging and eliminating duplicate entities.</li>
</ul>
</section>
<section id="entity-resolution-example" class="slide level2">
<h2>Entity resolution example</h2>
<table class="caption-top">
<thead>
<tr class="header">
<th>Team ID</th>
<th>Unified name</th>
<th>Original name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>19</td>
<td>Man City</td>
<td>Manchester City</td>
</tr>
<tr class="even">
<td>19</td>
<td>Man City</td>
<td>Man City</td>
</tr>
<tr class="odd">
<td>19</td>
<td>Man City</td>
<td>Man. City</td>
</tr>
<tr class="even">
<td>19</td>
<td>Man City</td>
<td>Manchester City F.C.</td>
</tr>
<tr class="odd">
<td>20</td>
<td>Man United</td>
<td>Manchester United</td>
</tr>
<tr class="even">
<td>20</td>
<td>Man United</td>
<td>Manchester United F.C.</td>
</tr>
<tr class="odd">
<td>20</td>
<td>Man United</td>
<td>Manchester United Football Club</td>
</tr>
<tr class="even">
<td>20</td>
<td>Man United</td>
<td>Man United</td>
</tr>
</tbody>
</table>
</section>
<section id="getting-rid-of-non-entity-observations" class="slide level2">
<h2>Getting rid of non-entity observations</h2>
<ul>
<li>Sometimes, data may contain rows that do not belong to an entity we want
<ul>
<li>For example, region-level data may contain country-level aggregates</li>
</ul></li>
<li>Find them and drop them (unless you have a good reason to keep them)</li>
<li>Common Case: a data table from the World Bank on countries often includes observations for larger regions (continents, low income countries, etc)</li>
</ul>
</section></section>
<section>
<section id="missing-data" class="title-slide slide level1 center">
<h1>Missing Data</h1>

</section>
<section id="missing-values" class="slide level2">
<h2>Missing values</h2>
<ul>
<li>A frequent <strong>and</strong> important issue: missing values.</li>
<li>Missing values mean that the value of a variable is available for some, but not all, observations.</li>
<li>Different languages may encode missing values differently.
<ul>
<li>In <code>Stata</code> dot “.”, an empty space “” are missing for numbers and strings.</li>
<li>But, “.” is considered larger than any number, so be careful when coding.</li>
</ul></li>
<li>Surveys, may also have their own rules for coding missing
<ul>
<li>binary 0 for no, 1 for yes, 9 for missing</li>
<li>percent 0-100, 9999 for missing</li>
<li>numeric, range is 1-100000, 9999999999 for missing</li>
</ul></li>
</ul>
</section>
<section id="missing-values-what-to-do" class="slide level2">
<h2>Missing values: What to do?</h2>
<p>Depends on: <strong>Scope</strong>: How much missing? and <strong>Reason</strong>: Why missing?</p>
<ol type="1">
<li>Look at content of data. This could be related to data quality (especially coverage)</li>
<li>Missing by design may not be a problem. (Ever been pregnant? missing for men)</li>
<li>Missing values should be counted, because they mean fewer observations with valid information. (compounding effect)</li>
<li>Big problem: potential selection bias.
<ul>
<li>Is data missing at random?</li>
<li>Is the data still representative?</li>
</ul></li>
</ol>
</section>
<section id="missing-values-understanding-the-selection-process" class="slide level2">
<h2>Missing values: Understanding the selection process</h2>
<ul>
<li>Random: When missing data really means no information, it may be the result of errors in the data collection process. Rare.</li>
<li>In some other cases, missing just means “zero” or “no”. In these instances, we should simply recode (replace) the missing values as “zero” or as “no”. (how many children? missing means zero)</li>
<li>Often, values are missing for a reason.
<ul>
<li>Some survey respondents may not know the answer to a question or refuse to answer it,</li>
<li>They are likely to be different from those who provide valid answers.</li>
</ul></li>
</ul>
</section>
<section id="missing-values-what-can-we-do" class="slide level2">
<h2>Missing values: what can we do?</h2>
<p>Two basic options:</p>
<ul>
<li>Restrict the analysis to observations with non-missing values for all variables used in the analysis.
<ul>
<li>Default option in many statistical packages.</li>
</ul></li>
<li>Imputation - Fill in some value for the missing values, such as the mean or median.
<ul>
<li>There are more advanced and better options, but should be used with caution.</li>
<li>Not all imputation methods are created equal.</li>
</ul></li>
<li>Be conservative, impute if absolutely necessary, and document it.</li>
</ul>
</section>
<section id="missing-values-some-practical-advice" class="slide level2">
<h2>Missing values: Some practical advice</h2>
<ul>
<li>For binary variables: zero if yes/no.</li>
<li>For qualitative nominal variables, missing as a new value: white, blue, red and missing.</li>
<li>For ordinal variables, missing could be recoded to a neutral variable.</li>
<li>For quantitative variables -&gt; mean or median? (try not to! There are good imputation methods)</li>
<li>if impute, create a flag and use it analysis. At the very least for sensitivity analysis.</li>
<li>(<strong>Bad</strong>) Imputation will have consequences, be conservative.</li>
</ul>
</section>
<section id="more-on-data-cleaning" class="slide level2">
<h2>More on Data Cleaning</h2>
<ul>
<li><p>Consider the data quality, and the data collection process.</p>
<ul>
<li>Are there outliers? data entry errors? bunching?</li>
</ul></li>
<li><p>Understand the data generating process.</p>
<ul>
<li>Are there missing values? why?</li>
</ul></li>
<li><p>This is an iterative process, and you may need to go back and forth between data cleaning and data analysis.</p></li>
<li><p>More on this with EDA and Data Visualization</p></li>
</ul>
</section>
<section id="data-wrangling-cooking-recipe" class="slide level2">
<h2>Data wrangling: Cooking recipe</h2>
<ol type="1">
<li><span class="blue"><strong>Write a code</strong></span>: it can be repeated, commented, cleaned, and improved later</li>
<li>Understand the structure of the dataset, recognize links. Draw a schema</li>
<li>Start by looking into the data to spot issues. (<code>summarize</code>, <code>tabulate</code>, <code>edit</code>, <code>browse</code>)
<ul>
<li>do they have meaningful ranges? Correct them or set them as missing</li>
</ul></li>
<li>Store data in <strong>tidy</strong> datasets. one row is one observation, one column a variable</li>
<li>Have a description of variables (Labels, make sure you know what they are)</li>
<li>Identify missing values and store them in an appropriate format. Make edits if needed.</li>
<li>Document every step of data cleaning &lt;- <strong>Very Important</strong> and goes to the code</li>
</ol>
</section>
<section id="ai-and-data-wrangling-upside" class="slide level2">
<h2>AI and data wrangling: Upside</h2>
<p>If given the right instructions, and information, AI can help you with data wrangling:</p>
<ul>
<li>understands your data structure</li>
<li>combines datasets</li>
<li>summarizes the data</li>
<li>understands your variables</li>
<li>finds potential problems</li>
</ul>
<p>But, it is not perfect. You need to understand the data and the process. Review and control.</p>
</section></section>
<section id="thats-all-for-today" class="title-slide slide level1 center">
<h1>Thats all for today</h1>

<div class="quarto-auto-generated-content">
<div class="footer footer-default">
<p><em>Rios-Avila and Cia</em></p>
</div>
</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1300,

        height: 675,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        // For code content inside modals, clipBoardJS needs to be initialized with a container option
        // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>