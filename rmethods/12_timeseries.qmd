---
title: "Times Series Part-I"
subtitle: "Basic Regression Analysis"
author: Fernando Rios-Avila
jupyter: nbstata
format: 
  revealjs: 
    slide-number: true
    width: 1600
    height: 900
    code-fold: true
    code-overflow: wrap
    echo: true
    css: styles.css 
    chalkboard: true  
---

![](images/paste-8.png)

## The nature of time series data

-   Time series "works" different from Repeated crossection.

    -   You do not have access to a random sample. (Window of time if fixed)

    -   You have access to a single "random" time line

-   And in time series, one needs to be quite aware that Data has Baggage...What you see today is the product of everything that happens in the far past.

-   This is what we call Past Dependent, or simple serial correlation.

    -   And is why we need to be careful when we use time series data.

## The nature of time series data

-   Data cannot not be arbitrarily reordered. (Past affect future)

    -   Typical features: serial correlation/nonindependence of observations

-   Randomness of the data comes from the uncertainty of shocks that affects a variable over time, not from sampling.

-   Your "Sample" is one realized path that you observe in a narrow window of time.

-   Because observations are no longer independent, we will need to worry about correlation across time.

-   In fact, because data may be strongly correlated across time (say your age), it may generate some problems when applying OLS.

    -   Highly correlated data (high innertia) will have common "trends" that do not necessarity reflect the causal relationship between variables.

-   So, we must learn "new" tools to deal with this problem.

# Basic TS models

## 1: Static model

-   The static model is the simplest model for analyzing time series data. (like SLRM)
-   A Static model aims to find correlations between contemporaneous variables.
    -   Implicity, this **assumes** there are no dynamic interactions among variables

$$GDP_t = a_0 + a_1 educ_t + a_2 Invest_t + a_3 Unemp_t + u_t$$

Education, investment and Unemployment rate are assumed to affect GDP contemporaneously. But Lags of Leads of the data has no effect on GDP.

-   These models are not useful for Forecasting, and Only produces reasonable estimates under very strong assumptions (we will see this later).

## 2: Finite Distributed Lag model (FDL)

-   The FDL model is a simple extension of the static model that allows for dynamic interactions of independent variables.
    -   ***Finite*** Because we choose How far back (lags) to add to the model
    -   ***Distributed*** Because each lag will have a different effect on the dependent variable.
-   Simple Example: $$fr_t = a_0 + a_1 te_t +e_t$$ $$fr_t = a_0 + a_1 te_t + a_2 te_{t-1}+ a_3 te_{t-2}+e_t$$

$fr_t$: Fertility Rate; $te_t$: Tax exemption

This is an FDL model with 2 lags.

## 

-   More Generality, FDL of order **q** is defined as:

$$y_t = a_0 + \sum_{k=0}^q \delta_k z_{t-k} + e_t$$

-   You can choose Lags using F-statistic, but also considering the "loss" of Degrees of freedom.
    -   More lags, less data to estimate the coefficients, more coefficients to estimate
    -   Coefficients may suffer from High Collinearity
    -   Allow us to draw inference on Duration of effects.
-   Two Types of Effects:
    -   Transitory effects $\frac{\partial y_t}{\partial z_{t-q}}=\delta_q$
    -   Permanent effect $\frac{\partial y_t}{\partial z}=\sum \frac{\partial y_t}{\partial z_{t-q}}=\sum \delta_k$

## 
### What do you expect to see?

::: {layout-ncol=2}

![Transitory](images/paste-11.png)

![Permanent](images/paste-12.png)

:::

- **Transitory** effects measure the short-term effect on outcome (Only of the additional unit)
- **Permanent** effects measure the long-term effect on outcome (adding up Transitory effects)

## 3: Infinite Distributed Lag model (IDL)

- This is a more advanced model that allows for the effects of independent variables to last forever, but how?
  - A model with infinite number of lags cannot be estimated...unless some restrictions are imposed.

$$ \text{Wrong: } y_t = a_0 + \sum_{k=0}^{\infty} \delta_k z_{t-k} + e_t$$
$$ \text{Better: } y_t = a_0 + \sum_{k=0}^{\infty} \gamma \delta^k z_{t-k} + e_t$$

- So we went from pretending to estimate an infinite number of coefficients $\delta_k$ to estimating only two parameters $\gamma$ and $\delta$. 
    - This is called the **Geometric Distributed Lag** model.

##

- GDL requires an additional "Trick":

$$\begin{aligned}
y_t &= a_0 + \gamma z_t + \gamma \rho z_{t-1} + \dots + e_t \\
y_{t-1} &= a_0 + \gamma z_{t-1} + \gamma \rho z_{t-2} + \dots + e_{t-1}
\end{aligned}
$$

- Subtracting the second equation (times $\rho$ ) from the first one, we get:
  
$$y_t =  \rho y_{t-1} + a_0 (1-\rho) + \gamma z_t  + v_{t}$$

Which requires really strong assumptions!

- The short and Long effects are:

$$\text{Short}\frac{\partial y_t}{\partial z_{t-k}}=\gamma \rho^k \text{ and }
\text{Long}\frac{\partial y_t}{\partial z}=\frac{\gamma}{1-\rho}$$


## 4: Rational Distributed Lag model (RDL)

- Because IDL imposes strong assumptions on coefficients, we can relax them by allowing for lags. This is called the RDL model.
$$y_t = a_0 + \gamma_0 z_t + \gamma_1 z_t  +\delta y_{t-1} + e_t- \rho e_{t-1}$$

- Which has the following short and long effects:

$$\text{ Short:}\frac{\partial y_t}{\partial z_t} = \gamma_0  $$
$$\text{ Short:}\frac{\partial y_t}{\partial z_{t-k}} = \rho^{k-1}(\rho \gamma_0 + \gamma_1) $$
$$\text{ Long:}\frac{\partial y_t}{\partial z} = \frac{\gamma_0 + \gamma_1}{1-\rho}$$

# Assumptions
At least for M1 and M2

## Assumptions: M1 and M2

1. Linear in Parameters: Same old, same old, $y_t = \beta_0 + \beta_1 x_{1t} + \dots + \beta_k x_{kt} + u_t$

2. No Perfect Collinearity: Also Same old, same old 

## 
### The Stronger ones

$$X=\begin{pmatrix}
x_{11} & x_{12} & \dots & x_{1k} \\
x_{21} & x_{22} & \dots & x_{2k} \\
\vdots & \vdots & \ddots & \vdots \\
x_{T1} & x_{T2} & \dots & x_{Tk} 
\end{pmatrix}$$

3. Zero Conditional Mean

$$E(u_t|X)=0$$

So that $X$ is strictly Exogenous (across all possible times)